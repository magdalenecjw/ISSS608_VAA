[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "ISSS608 Visual Analytics and Applications",
    "section": "",
    "text": "In this website, you will find my coursework prepared for the SMU MITB course ISSS608 Visual Analytics and Applications."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "Hands_on_ex/Hands_on_ex01/Hands_on_ex01.html",
    "href": "Hands_on_ex/Hands_on_ex01/Hands_on_ex01.html",
    "title": "Hands-on Exercise 1",
    "section": "",
    "text": "The code chunk below uses p_load() of pacman package to check if tidyverse packages have been installed on the computer. If they are, the packages will be launched.\n\npacman::p_load(tidyverse)\n\n\n\n\n\nexam_data <- read_csv(\"data/Exam_data.csv\")\n\nRows: 322 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): ID, CLASS, GENDER, RACE\ndbl (3): ENGLISH, MATHS, SCIENCE\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message."
  },
  {
    "objectID": "Hands_on_ex/Hands_on_ex01/Hands_on_ex01.html#ploting-trellis-boxplots",
    "href": "Hands_on_ex/Hands_on_ex01/Hands_on_ex01.html#ploting-trellis-boxplots",
    "title": "Hands-on Exercise 1",
    "section": "Ploting trellis boxplots",
    "text": "Ploting trellis boxplots\n\nggplot(data = exam_data,\n       aes(x = CLASS, y = MATHS)) + \n  geom_boxplot(outlier.colour=\"black\",\n               outlier.shape=16,\n               outlier.size=1, \n               notch=FALSE) + \n  facet_grid(cols = vars(GENDER))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS, y = MATHS)) + \n  geom_boxplot(outlier.colour=\"black\",\n               outlier.shape=16,\n               outlier.size=1, \n               notch=FALSE) + \n  facet_grid(rows = vars(GENDER))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = GENDER, y = MATHS)) + \n  geom_boxplot(outlier.colour=\"black\",\n               outlier.shape=16,\n               outlier.size=1, \n               notch=FALSE) + \n  facet_grid(cols = vars(CLASS),\n             rows = vars(GENDER))"
  },
  {
    "objectID": "Hands_on_ex/Hands_on_ex01/Hands_on_ex01.html#ploting-horizontal-bar-chart",
    "href": "Hands_on_ex/Hands_on_ex01/Hands_on_ex01.html#ploting-horizontal-bar-chart",
    "title": "Hands-on Exercise 1",
    "section": "Ploting horizontal bar chart",
    "text": "Ploting horizontal bar chart\n\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar() +\n  coord_flip() +\n  theme_minimal() +\n  theme(panel.background = element_rect(fill = \"light blue\",\n                                        colour = \"light blue\"),\n        panel.grid.major = element_line(linewidth = 0.5,\n                                        linetype = 'solid',\n                                        colour = \"white\"),\n        panel.grid.minor = element_line(linewidth = 0.25,\n                                        linetype = 'solid',\n                                        colour = \"white\"))"
  },
  {
    "objectID": "Hands_on_ex/Hands_on_ex01/Hands_on_ex01.html#makeover-design",
    "href": "Hands_on_ex/Hands_on_ex01/Hands_on_ex01.html#makeover-design",
    "title": "Hands-on Exercise 1",
    "section": "Makeover design",
    "text": "Makeover design\n\npacman::p_load(forcats)\n\nexam_data %>%\n  mutate(RACE = fct_infreq(RACE)) %>%\n  ggplot(aes(x=RACE)) +\n  geom_bar() + \n  ylim(0,225) + \n  geom_text(\n    stat = \"count\",\n    aes(label=paste0(after_stat(count),\", \",\n                     round(after_stat(count)/sum(after_stat(count))*100,\n                           1),\"%\")),\n                      vjust=-1,\n                      size=3) +\n  xlab(\"Race\") +\n  ylab(\"No. of\\nPupils\") +\n  theme(axis.title.y = element_text(angle=0))\n\n\n\n\n\nggplot(data=exam_data, \n       aes(x=MATHS)) +\n  geom_histogram(bins = 20, \n                 color = \"black\", \n                 fill = \"light blue\") + \n  geom_vline(aes(xintercept = mean(MATHS)),\n             linetype = \"dashed\",\n             color = 'red') +\n  geom_vline(aes(xintercept = median(MATHS)),\n             linetype = \"dashed\",\n             color = 'black')\n\n\n\n\n\neng_bg <- exam_data[,-3]\n\nggplot(data=exam_data, \n       aes(x=ENGLISH, fill=GENDER)) +\n  geom_histogram(data = eng_bg, fill = \"grey\") +\n  geom_histogram(color = \"black\") +\n  facet_wrap(~GENDER) +\n  ylim(0,30)\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\nggplot(data=exam_data, \n       aes(x=MATHS, y=ENGLISH)) +\n  geom_point(size=1) +\n  xlim(0,105) +\n  ylim(0,105) +\n  geom_vline(aes(xintercept = 50),\n             linetype = \"dashed\",\n             color = 'grey') +\n  geom_hline(aes(yintercept = 50),\n             linetype = \"dashed\",\n             color = 'grey')"
  },
  {
    "objectID": "Hands_on_ex/Hands_on_ex02/Hands_on_ex02.html",
    "href": "Hands_on_ex/Hands_on_ex02/Hands_on_ex02.html",
    "title": "Hands-on Exercise 2",
    "section": "",
    "text": "ggplot(data = exam_data,\n       aes(x = MATHS, y = ENGLISH)) + \n  geom_point()"
  },
  {
    "objectID": "Take_home_ex/Take_home_ex01/Take_home_ex01.html",
    "href": "Take_home_ex/Take_home_ex01/Take_home_ex01.html",
    "title": "Take Home Exercise 1",
    "section": "",
    "text": "Task\nIn this Take Home Exercise, age-sex pyramids across nine selected planning areas in trellis display are created using Tableau Desktop.\n\n\nData Source\nThe data “Singapore Residents by Planning Area / Subzone, Age Group, Sex and Type of Dwelling, June 2022” used for this Take Home Exercise is obtained from the Department of Statistics, Singapore in csv format.\n\n\nCreating the Analytical Visualization on Tableau\n\n\n\n\n\n\n\n\nNo.\nSteps\nScreenshot\n\n\n\n\n1\nLoad the csv file into Tableau: Connect To a File > Text file.\n\n\n\n2\nIn a new Worksheet, Age is dragged to the Rows shelf. Since Age is already grouped into bins, it can be used as-is. The age groups are sorted in descending order: right-click on AG > Sort > Sort by Data Source Order - Descending.\n\n\n\n3\nFor a neater look of the final chart, the underscores (_) are removed from the labels: Data pane > right-click on AG > Aliases > Edit aliases accordingly.\n\n\n\n4\nPrior to creating the age-sex pyramid, the Population field is split into two for each Gender: Analysis > Create Calculated Field. The calculated fields MalePop and FemalePop are created with the following formula:\nIF [Sex]='Males' THEN [Pop] END\nIF [Sex]='Females' THEN [Pop] END\n\n\n\n5\nThe proportion of males and females in the total population is then computed as calculated fields MalePct and FemalePct.\nSUM([MalePop])/TOTAL(SUM([Pop]))\nSUM([FemalePop])/TOTAL(SUM([Pop]))\n\n\n\n6\nNext, a reference line that shows the average percentage of male and female population for Singapore in each age group across all planning areas is created.\nFirstly, the calculated fields MalePop_Fixed, FemalePop_Fixed and TotalPop_Fixed. FIXED level of detail expressions are used in the calculation so that the values can be created without reference to the dimensions in the worksheet later on.\n{FIXED [AG]: SUM([FemalePop])}\n{FIXED [AG]: SUM([MalePop])}\n{FIXED [AG]: SUM([Pop])}\n\n\n\n7\nAgain, the proportion of males and females in the total population is then computed as calculated fields MalePct_Fixed and FemalePct_Fixed.\nSUM([FemalePop_Fixed])/ TOTAL(SUM([TotalPop_Fixed]))\nSUM([MalePop_Fixed])/ TOTAL(SUM([TotalPop_Fixed]))\n\n\n\n8\nNext, the fields MalePct, MalePct_Fixed, FemalePct and FemalePct_Fixed are dragged to the Columns shelf. Right-click on MalePct_Fixed and FemalePct_Fixed in the the Columns shelf to create a dual axis. This will allow MalePct and MalePct_Fixed to use the same axis, as with FemalePct and FemalePct_Fixed.\n\n\n\n9\nRight-click on the MalePct axis to reverse it and create the shape of the age-sex pyramid.\n\n\n\n10\nAs we have a dual axis between MalePct and MalePct_Fixed and between FemalePct and FemalePct_Fixed, right-click on each of the axis to synchronize axis.\n\n\n\n11\nIn the Marks card, MalePct and FemalePct are changed to a bar chart, and MalePct_Fixed and FemalePct_Fixed are changed to a line chart.\n\n\n\n12\nNext, drag MalePct to Color in the MalePct Marks card to create a colour gradient based on the values. At the top right-hand corner of the legend, right-click to select Edit Title and amend to “% Males” for better clarity.\n\n\n\n13\nSimilarly, drag FemalePct to Color in the FemalePct Marks card to create a colour gradient based on the values. At the top right-hand corner of the legend, right-click to select Edit Title and amend to “% Females” for better clarity. The colour is also changed to a contrasting colour orange: right-click top right hand corner of legend > Edit Colors > amend Palette to Orange.\n\n\n\n14\nUnder the MalePct_Fixed and FemalePct_Fixed Marks cards, amend the Size of the line and change the Marker under Color for ease of readability of the reference line in the chart.\n\n\n\n15\nChange the chart view to Entire View.\n\n\n\n16\nDrag the PA field to the Columns shelf and sort it based on population size: right-click to select Sort > Sort by Field – Sort Order of Descending – Field Name: Pop – Aggregation: Sum.\nAdd the PA field and filter for the top nine most populous planning areas: right-click to select Edit Filter > select Top tab > filter By field – Top 9 by Pop – Sum.\n\n\n\n17\nRight-click on any x-axis and select Format to edit the number format on the scale for all four measures (MalePct, MalePct_Fixed, FemalePct and FemalePct_Fixed) shown in the chart. The number format is changed to Percentage – 1 decimal place.\n\n\n\n18\nRight-click on the x-axis at the top of the chart to uncheck Show Header.\n\n\n\n19\nRight-click on any x-axis and select Edit Axis. Change the Range to Fixed end (0.07) and remove the Axis Titles.\n\n\n\n20\nNext, perform other formatting to the PA field: right-click on PA header > select Format > adjust the default font type (bold) and colour (black). Then right-click on PA header again > select Hide Field Labels for Columns so that only the planning areas are shown but not the field name. Also right-click on AG header > Hide Field Labels for Rows so that only the age groups are shown but not the field name.\n\n\n\n21\nRight-click on Sheet Title and select Edit Title to add a chart title and subtitle.\n\n\n\n22\nDrag MalePct to Label in the MalePct Marks card to create mark labels. Click on Label and check the box for Show Mark Labels – change Scope to Pane. Then right-click on the mark label to format the number to Percentage – 1 decimal place.\nRepeat this step for the FemalePct Marks card.\n\n\n\n23\nLastly, create a new Dashboard and drag the worksheet to the dashboard. The legends are dragged to the bottom of the dashboard. A text box is also added to include the data source. Lastly, change the Size to Automatic.\n\n\n\n\n\n\nPatterns observed in this Analytical Visualization\n\n\n\n\n\n\nHow to read the chart\nThe analytical visualization consists of age-sex pyramids for nine selected planning areas in Singapore presented in trellis display. The selection of planning areas is based on population size – the top nine most populous planning areas have been chosen.\n\nEach pyramid starts at zero population in the centre and extends left for the male population (in blue) and right for the female population (in orange).\nThe bar charts within each pane shows the proportion of male and female population within the selected planning area.\nEach bar in the pyramid represents a band of five years and is arranged from birth (at the bottom) to old age (at the top).\nFor comparison purposes, the grey reference line shows the average percentage of male and female population for Singapore in each age group across all planning areas.\n\n\n\nShape of age-sex pyramids\nIn general, all nine age-sex pyramids have relatively narrow bases, which is expected of a highly urbanized and developed country such as Singapore, where there is high life expectancy and low mortality and fertility rates.\nMost of the top planning areas (except Punggol and Sengkang) have constrictive age-sex pyramids, which are characterized by urn-shaped graphs with a narrow base. This observation could be attributed to the presence of highly mature housing estates in these planning areas.\nIn contrast, the population pyramids of Punggol and Sengkang appear more “arrow-shaped” and are more characteristic of newer and younger housing estates, where bulk of the population falls within into two main age groups of 30-49 years and 0-19 years. This could be due to the trend of younger couples moving to newer housing estates like Punggol and Seng Kang over the past decade to start their own families.\n\n\nTrends by age groups\nThe proportion of the younger population (0-19 years) in most planning areas is on par with the national average, except in Punggol and Sengkang where the proportion is above average.\nFor the working age population (20-59 years), the pyramid has a “bulging” out trend in Punggol and Sengkang. In contrast, there appears to be a “hollowing” effect especially in Tampines and Choa Chu Kang.\nFrom the age of 60 onwards, the proportion of elderly in Bedok, Tampines and Hougang is above national average, while the reverse is true for Punggol, Sengkang, Woodlands and Choa Chu Kang.\n\n\nTrends by gender\nBetween genders, population trends appear largely similar across the top planning areas except in Punggol where the male working age population appear to be on average, slightly older than their female counterparts.\nIn addition, among the extremely old (75 and older), the proportion of female population is observed to be greater than the male population. This trend is aligned with the gender gap in life expectancy that is observed both globally and locally."
  },
  {
    "objectID": "Take_home_ex/Take_home_ex02/Take_home_ex02.html",
    "href": "Take_home_ex/Take_home_ex02/Take_home_ex02.html",
    "title": "Take Home Exercise 2",
    "section": "",
    "text": "This Take Home Exercise is done based on a peer submission of a visualization on the Age-Sex Pyramids by Planning Area in Singapore. The peer submission will be critiqued on clarity and aesthetics, redesigned using data visualisation principles and best practices, and remade using ggplot2, ggplot2 extensions and tidyverse packages."
  },
  {
    "objectID": "Take_home_ex/Take_home_ex02/Take_home_ex02.html#data-wrangling",
    "href": "Take_home_ex/Take_home_ex02/Take_home_ex02.html#data-wrangling",
    "title": "Take Home Exercise 2",
    "section": "Data Wrangling",
    "text": "Data Wrangling\nThe packages tidyverse and ggpubr will be used to remake the visualization.\nAfter the data is loaded, the age groups labels are tidied up to remove the underscores (_) and reordered in chronological order (young at bottom, elderly at top).\n\npacman::p_load(tidyverse)\npacman::p_load(ggpubr)\n\npop_data <- read_csv(\"data/respopagesextod2022.csv\",show_col_types = FALSE)\n\n#Replace underscores in age group (AG) with spaces\npop_data$AG <- gsub(\"_\", \" \", pop_data$AG)\n\n#Reorder age group (AG)\nlevel_order <- c(\"0 to 4\", \"5 to 9\", \"10 to 14\", \"15 to 19\", \n                 \"20 to 24\", \"25 to 29\", \"30 to 34\", \"35 to 39\", \n                 \"40 to 44\", \"45 to 49\", \"50 to 54\", \"55 to 59\", \n                 \"60 to 64\", \"65 to 69\", \"70 to 74\", \"75 to 79\", \n                 \"80 to 84\", \"85 to 89\", \"90 and over\")\n\nNext, the age-sex pyramid for the overall Singapore population is created using geom_bar. Relevant labels are also added to the chart.\n\n#Create age-sex pyramid for overall Singapore population\npop_pyramid <- pop_data %>%\n  mutate(Pop = ifelse(Sex==\"Males\", Pop*(-1), Pop*1))%>%\n  ggplot(aes(x = factor(AG, level = level_order),y = Pop, fill=Sex)) + \n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  scale_y_continuous(breaks = seq(-150000, 150000, 50000), \n                     labels = paste0(as.character(c(seq(150, 0, -50), \n                                                    seq(50, 150, 50))),\n                                     \"k\")) +\n  labs(title = \"Age-Sex Pyramid of Singapore across all Planning Areas\", \n       x = \"Age Groups\", y = \"Population\", fill=\"Gender\") + \n  theme(text = element_text(size = 10)) + \n  scale_fill_manual(values = c(\"Males\" = \"cornflowerblue\",\n                               \"Females\" = \"lightpink2\"))\n\npop_pyramid\n\n\n\n\nFor the trellis display, the data for the top nine most populous planning areas is filtered out and labels are created for the individual panes.\n\n#Create a planning area (PA) filter for facet wrap\nPA_pop_tab <- pop_data %>%\n  group_by(PA) %>%\n  summarise(PA_pop = sum(Pop)) %>%\n  top_n(n=9, wt=PA_pop) %>%\n  arrange(desc(PA_pop))\n\nPA_filter <- PA_pop_tab$PA\n\n#Filter the data accordingly\ntop9_data <- filter(pop_data, PA %in% PA_filter)\n\nfacet_pyramid_data <- top9_data %>%\n  mutate(Pop = ifelse(Sex==\"Males\", Pop*(-1),Pop*1))\n\n#Create labels for facet wrap\nPA_labels <- paste(\" ( Pop:\",trimws(PA_pop_tab$PA_pop),\")\")\n\nappender <- function(string, suffix = PA_labels) paste0(string, suffix)\n\nNext, the age-sex pyramids for the top nine most populous planning areas are also created using a similar method used for the age-sex pyramid of the entire Singapore population created above.\n\n#Create age-sex pyramids in trellis display for top 9 planning areas\nfacet_pyramid <- facet_pyramid_data %>%\n  mutate(across(PA, factor, levels=PA_filter)) %>%\n  ggplot(aes(x = factor(AG, level = level_order),y = Pop, fill=Sex)) + \n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  scale_y_continuous(breaks = seq(-15000, 15000, 5000), \n                     labels = paste0(as.character(c(seq(15, 0, -5), \n                                                    seq(5, 15, 5))),\"k\")) +\n  labs(title = \"Age-Sex Pyramids of Top 9 Most Populous Planning Areas\", \n       x = \"\", y = \"Population\", fill=\"Gender\") +\n  facet_wrap(vars(PA), ncol=3, labeller=as_labeller(appender)) + \n  theme(axis.text.x = element_text(size = 6),\n        axis.text.y = element_text(size = 6),\n        strip.text = element_text(size = 7),\n        plot.title = element_text(size = 12)) +\n  scale_fill_manual(values = c(\"Males\" = \"cornflowerblue\", \n                               \"Females\" = \"lightpink2\"))\n\nfacet_pyramid\n\n\n\n\nLastly, both plots are combined into one visualization. Where there are duplicate elements (e.g. legend), only one set is kept and the other dropped. The data source is added to the bottom of the chart for reference.\n\n#Combine both plots\nannotate_figure(ggarrange(pop_pyramid, facet_pyramid, \n                          legend=\"right\", common.legend=TRUE),\n                bottom = text_grob(\"Source: Singapore Residents by Planning Area / Subzone, Age Group, Sex and Type of Dwelling, June 2022. From the Department of Statistics, Singapore (2022)\", size = 7))"
  },
  {
    "objectID": "Take_home_ex/Take_home_ex02/Take_home_ex02.html#clarity",
    "href": "Take_home_ex/Take_home_ex02/Take_home_ex02.html#clarity",
    "title": "Take Home Exercise 2",
    "section": "Clarity",
    "text": "Clarity\n\nWhat Worked Well\nIn general, the visualization is clear in terms of layout. Each chart within the submission has a chart title to annotate what the chart is about, which makes the objective of the visualization clear to the reader.\nThe display of an overall age-sex pyramid of Singapore population also provides a good reference against the age-sex pyramids of the top nine most populous planning areas.\n\n\nAreas of Improvement\nHowever, the age-sex pyramids appear confusing to the reader as it is unclear what the grey bars represent, since it is not clearly annotated on the chart. The presence of the grey bars also mean that the true shape of the pyramids (which should comprise of just the pink and blue bars) cannot be clearly seen.\nIn addition, due to the size of the data labels, the pyramid charts appear cluttered and it is difficult to read and analyze each pyramid, especially those within the trellis display.\nAnother possible area of improvement in the visualization is the placement of the Male vs. Female populations. As age-sex pyramids are technical diagrams used by those studying population geography, conforming to the standard practice of graphing the Male population on the left side of the pyramid and the Female population on the right may make the visualization even more intuitive to read.\nLastly, while the top-right chart shows the top nine most populous planning areas ranked in descending order, the trellis display does not make use of the same order to arrange the age-sex pyramids of the planning areas."
  },
  {
    "objectID": "Take_home_ex/Take_home_ex02/Take_home_ex02.html#aesthetics",
    "href": "Take_home_ex/Take_home_ex02/Take_home_ex02.html#aesthetics",
    "title": "Take Home Exercise 2",
    "section": "Aesthetics",
    "text": "Aesthetics\n\nWhat Worked Well\nThe choice of colours are pleasing to the eye and provide clear and intuitive distinction between the Male and Female populations.\n\n\nAreas of Improvement\nHowever, the large data labels clutter the visualization with unnecessary detail and take the attention away from the shape of the age-sex pyramids. In addition, the age group labels are presented in their raw form with the underscores (_) in the label, which adds to the clutter.\nUpon further examination of the chart, it also appears that the grey bars are showing the population of the opposite gender i.e. the grey bars in the “Female population” side of the pyramid are showing exactly the same data as the blue bars in the “Male population” side, and vice versa. This means that there are duplicates of the same information within the chart that do not value add to the chart.\nAnother area of duplication in the visualization is the highlighting of the top nine most populous planning areas. Apart from being shown in the trellis display, it is also shown in the top-right graph “Population by Areas”, suggesting the latter could be made redundant."
  }
]